<html>
    <head>
        <title>Полезные статьи</title>
        <link rel="stylesheet" href="css/style.css">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&family=Mulish:wght@200;301;400;700&display=swap" rel="stylesheet">

        <script src="jscolor.js"></script>
    </head>
    <body link="#505050" alink="#505050" vlink="#505050">
        <div class="container">
            <header>
            
                <div class="header_inner"> 
                    <div class="Logo">
                        <img class="foto_logo" src="img/brush1.png">
                        <div class="header_logo">
                            <a href="index.html">Airbrush</a>
                        </div>
                    </div>
                    <nav class="nav">
                        <a class="nav_link" href="index.html">Главная</a>
                        <a class="nav_link" href="article.html">Полезные статьи</a>
                        <a class="nav_link" href="color.html">Калькулятор краски</a>
                        <a class="nav_link" href="navigating.html">Навигация</a>
                    </nav>
                </div>    

            </header>

            <div id="content">
            <div class="block_color">
                <h2 id="welcome_color">Калькулятор смешивания краски:</h2>

                <div class="block_color_picker">
                    <h3>Выберите 1 цвет:</h3>
                    <input id="inColor1" class="input_color" data-jscolor="{value:'#2EEDFF'}" onchange="colorMixing()">
                </div>

                <div class="block_color_picker">
                    <h3>Выберите 2 цвет:</h3>
                    <input id="inColor2" class="input_color" data-jscolor="{value:'#2EEDFF'}" onchange="colorMixing()">
                </div>

                <h2>Полученный цвет:</h2>

                <div id="outColor"></div>
            </div>

            </div>

		</div>
		

        
		<footer>
            <div class="footer_bg">
                <div class="footer_content">
                    <div class="Logo">
                        <img class="foto_logo" src="img/brush1.png">
                        <div class="footer_logo">Airbrush</div>
                    </div>
                    <div class="footer_text">Сайт для погружения в мир аэрографии</div>
                    <div class="footer_text"><a href="contacts.html">Контакты</a></div>
                </div>
            </div>
        </footer>

        <script>
            // These options apply to all color pickers on the page
            jscolor.presets.default = {
                position:'left', smartPosition:false, 
                borderColor:'rgba(255,255,255,1)', borderRadius:15, padding:5, 
                width:200, height:200, buttonColor:'rgba(87,255,219,1)', 
                controlBorderColor:'rgba(255,255,255,1)', sliderSize:23, 
                shadow:false
            };

            colorMixing = function() {
                let colorIn1 = `rgb(${hexToRgb(inColor1.value).r},${hexToRgb(inColor1.value).g},${hexToRgb(inColor1.value).b})`
                let colorIn2 = `rgb(${hexToRgb(inColor2.value).r},${hexToRgb(inColor2.value).g},${hexToRgb(inColor2.value).b})`

                let colorOut = rgbaSum(hexToRgb(inColor1.value), hexToRgb(inColor2.value))
                console.log(`First: ${colorIn1}`)
                console.log(`Second: ${colorIn2}`)
                console.log(`Out: ${colorOut}`)

                
                document.getElementById("outColor").style.backgroundColor=colorOut;
            }

            function hexToRgb(hex) {
                var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
                return result ? {
                    r: parseInt(result[1], 16),
                    g: parseInt(result[2], 16),
                    b: parseInt(result[3], 16)
                } : null;
            }

            var rgbaSum = function(c1, c2){
                let R = Math.floor((c1.r + c2.r)/2);
                let G = Math.floor((c1.g + c2.g)/2);
                let B = Math.floor((c1.b + c2.b)/2);
                let outColor = `rgb(${R},${G},${B})`
                return outColor
            } 
            </script>
    </body>
</html>